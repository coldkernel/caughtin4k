{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/quantum/Caughtin4K/inngest/client.ts"],"sourcesContent":["import { Inngest } from \"inngest\";\n\n// Create a client to send and receive events\nexport const inngest = new Inngest({ id: \"caught-in-4k\" });\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,UAAU,IAAI,2JAAO,CAAC;IAAE,IAAI;AAAe"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/quantum/Caughtin4K/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi, componentsGeneric } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\nexport const components = componentsGeneric();\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;;;;;AAED;AAAA;AAAA;;AAUO,MAAM,MAAM,gKAAM;AAClB,MAAM,WAAW,gKAAM;AACvB,MAAM,aAAa,IAAA,2MAAiB"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/quantum/Caughtin4K/app/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { inngest } from \"@/inngest/client\";\nimport { ConvexHttpClient } from \"convex/browser\";\nimport { api } from \"@/convex/_generated/api\";\n\nconst convex = new ConvexHttpClient(process.env.NEXT_PUBLIC_CONVEX_URL!);\n\nexport async function triggerScan(scanId: string) {\n    await inngest.send({\n        name: \"analysis.submitted\",\n        data: { scanId },\n    });\n}\n\nexport async function startPublicScan(data: { target_username: string; target_gender: \"male\" | \"female\" }) {\n    console.log(\"ðŸš€ Sending request to Python...\", data);\n    try {\n        const response = await fetch(\"http://127.0.0.1:8000/scan\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n            cache: \"no-store\", // Ensure no caching\n        });\n\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(`Microservice error (${response.status}):`, errorText);\n            try {\n                const errorJson = JSON.parse(errorText);\n                return { success: false, error: errorJson.detail || response.statusText };\n            } catch {\n                return { success: false, error: `Microservice Error: ${response.statusText}` };\n            }\n        }\n\n        const result = await response.json();\n        console.log(\"âœ… Python response received:\", result.status);\n\n        // Save to Convex\n        try {\n            await convex.mutation(api.scans.savePublicScan, {\n                target_username: data.target_username,\n                target_gender: data.target_gender,\n                score: result.loyalty_score,\n                verdict: result.verdict,\n                target_info: result.target_info,\n                suspects: result.suspects,\n            });\n            console.log(\"âœ… Scan saved to Convex DB\");\n        } catch (dbError) {\n            console.error(\"Failed to save scan to DB:\", dbError);\n            // Don't fail the request if DB save fails, just log it\n        }\n\n        return { success: true, data: result };\n    } catch (error) {\n        console.error(\"Public scan failed:\", error);\n        return { success: false, error: \"Connection Refused. Is Python running? (Check port 8000)\" };\n    }\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;;;;;;AAEA,MAAM,SAAS,IAAI,mLAAgB;AAE5B,eAAe,YAAY,MAAc;IAC5C,MAAM,4HAAO,CAAC,IAAI,CAAC;QACf,MAAM;QACN,MAAM;YAAE;QAAO;IACnB;AACJ;AAEO,eAAe,gBAAgB,IAAmE;IACrG,QAAQ,GAAG,CAAC,mCAAmC;IAC/C,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,8BAA8B;YACvD,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;YACrB,OAAO;QACX;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,QAAQ,KAAK,CAAC,CAAC,oBAAoB,EAAE,SAAS,MAAM,CAAC,EAAE,CAAC,EAAE;YAC1D,IAAI;gBACA,MAAM,YAAY,KAAK,KAAK,CAAC;gBAC7B,OAAO;oBAAE,SAAS;oBAAO,OAAO,UAAU,MAAM,IAAI,SAAS,UAAU;gBAAC;YAC5E,EAAE,OAAM;gBACJ,OAAO;oBAAE,SAAS;oBAAO,OAAO,CAAC,oBAAoB,EAAE,SAAS,UAAU,EAAE;gBAAC;YACjF;QACJ;QAEA,MAAM,SAAS,MAAM,SAAS,IAAI;QAClC,QAAQ,GAAG,CAAC,+BAA+B,OAAO,MAAM;QAExD,iBAAiB;QACjB,IAAI;YACA,MAAM,OAAO,QAAQ,CAAC,kIAAG,CAAC,KAAK,CAAC,cAAc,EAAE;gBAC5C,iBAAiB,KAAK,eAAe;gBACrC,eAAe,KAAK,aAAa;gBACjC,OAAO,OAAO,aAAa;gBAC3B,SAAS,OAAO,OAAO;gBACvB,aAAa,OAAO,WAAW;gBAC/B,UAAU,OAAO,QAAQ;YAC7B;YACA,QAAQ,GAAG,CAAC;QAChB,EAAE,OAAO,SAAS;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,uDAAuD;QAC3D;QAEA,OAAO;YAAE,SAAS;YAAM,MAAM;QAAO;IACzC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO;YAAE,SAAS;YAAO,OAAO;QAA2D;IAC/F;AACJ;;;IAtDsB;IAOA;;AAPA,+OAAA;AAOA,+OAAA"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///Users/quantum/Caughtin4K/.next-internal/server/app/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {startPublicScan as '40687f0658683bba8c41f8229225cb229dae4ec96f'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}
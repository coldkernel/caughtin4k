{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/quantum/Caughtin4K/app/api/proxy-image/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\n\nexport async function GET(request: NextRequest) {\n    const url = request.nextUrl.searchParams.get(\"url\");\n\n    if (!url) {\n        return new NextResponse(\"Missing URL parameter\", { status: 400 });\n    }\n\n    try {\n        const response = await fetch(url, {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Failed to fetch image: ${response.statusText}`);\n        }\n\n        const buffer = await response.arrayBuffer();\n\n        const headers = new Headers();\n        headers.set(\"Access-Control-Allow-Origin\", \"*\");\n        headers.set(\"Content-Type\", response.headers.get(\"Content-Type\") || \"image/jpeg\");\n        headers.set(\"Cache-Control\", \"public, max-age=31536000, immutable\");\n\n        return new NextResponse(buffer, { headers });\n    } catch (error) {\n        console.error(\"Proxy error:\", error);\n        return new NextResponse(\"Failed to fetch image\", { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAoB;IAC1C,MAAM,MAAM,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;IAE7C,IAAI,CAAC,KAAK;QACN,OAAO,IAAI,gJAAY,CAAC,yBAAyB;YAAE,QAAQ;QAAI;IACnE;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,KAAK;YAC9B,SAAS;gBACL,cAAc;YAClB;QACJ;QACA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,SAAS,UAAU,EAAE;QACnE;QAEA,MAAM,SAAS,MAAM,SAAS,WAAW;QAEzC,MAAM,UAAU,IAAI;QACpB,QAAQ,GAAG,CAAC,+BAA+B;QAC3C,QAAQ,GAAG,CAAC,gBAAgB,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;QACpE,QAAQ,GAAG,CAAC,iBAAiB;QAE7B,OAAO,IAAI,gJAAY,CAAC,QAAQ;YAAE;QAAQ;IAC9C,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,IAAI,gJAAY,CAAC,yBAAyB;YAAE,QAAQ;QAAI;IACnE;AACJ"}}]
}